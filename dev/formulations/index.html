<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Network Formulations · GasModels</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-367975-10', 'auto');
ga('send', 'pageview', {'page': location.pathname + location.search + location.hash});
</script><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="GasModels logo"/></a><div class="docs-package-name"><span class="docs-autofit">GasModels</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../quickguide/">Getting Started</a></li><li><a class="tocitem" href="../data-format/">Input Data Formats</a></li><li><a class="tocitem" href="../network-data/">Network Data Format</a></li><li><a class="tocitem" href="../result-data/">Result Data Format</a></li><li><a class="tocitem" href="../math-model/">Mathematical Model</a></li><li><a class="tocitem" href="../direction/">Direction Model</a></li></ul></li><li><span class="tocitem">Library</span><ul><li class="is-active"><a class="tocitem" href>Network Formulations</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Network-Formulations"><span>Network Formulations</span></a></li><li><a class="tocitem" href="#Type-Hierarchy"><span>Type Hierarchy</span></a></li><li><a class="tocitem" href="#Gas-Models"><span>Gas Models</span></a></li><li><a class="tocitem" href="#User-Defined-Abstractions"><span>User-Defined Abstractions</span></a></li><li><a class="tocitem" href="#Supported-Formulations"><span>Supported Formulations</span></a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Steady State Specifications</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../ss-specifications/">Problem Specifications</a></li><li><a class="tocitem" href="../objective/">Objective</a></li><li><a class="tocitem" href="../variables/">Variables</a></li><li><a class="tocitem" href="../constraints/">Constraints</a></li></ul></li><li><a class="tocitem" href="../transient-specifications/">Transient Specifications</a></li><li><a class="tocitem" href="../parser/">File IO</a></li></ul></li><li><a class="tocitem" href="../developer/">Developer</a></li><li><a class="tocitem" href="../examples/">Examples</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Library</a></li><li class="is-active"><a href>Network Formulations</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Network Formulations</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/lanl-ansi/GasModels.jl/blob/master/docs/src/formulations.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Gas-Model"><a class="docs-heading-anchor" href="#Gas-Model">Gas Model</a><a id="Gas-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Gas-Model" title="Permalink"></a></h1><p>All methods for constructing gasmodels should be defined on the following type:</p><article class="docstring"><header><a class="docstring-binding" id="GasModels.AbstractGasModel" href="#GasModels.AbstractGasModel"><code>GasModels.AbstractGasModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>root of the gas formulation hierarchy</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/GasModels.jl/blob/d7e636d6b0e37670568e53dce0c86c5ceecedd06/src/core/base.jl#L2">source</a></section></article><p>which utilizes the following (internal) functions:</p><article class="docstring"><header><a class="docstring-binding" id="GasModels.build_ref" href="#GasModels.build_ref"><code>GasModels.build_ref</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Builds the ref dictionary from the data dictionary. Additionally the ref dictionary would contain fields populated by the optional vector of ref_extensions provided as a keyword argument.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/GasModels.jl/blob/d7e636d6b0e37670568e53dce0c86c5ceecedd06/src/core/base.jl#L41-L45">source</a></section></article><p>When using the build_ref for transient problem formulations the following ref extension has to be added to populate the fields necessary for formulate the transient optimization problems.</p><article class="docstring"><header><a class="docstring-binding" id="GasModels.ref_add_transient!" href="#GasModels.ref_add_transient!"><code>GasModels.ref_add_transient!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>adds the additional data into the ref that is required to used to formulate the transient formulation</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/GasModels.jl/blob/d7e636d6b0e37670568e53dce0c86c5ceecedd06/src/core/ref.jl#L56">source</a></section></article><h1 id="Network-Formulations"><a class="docs-heading-anchor" href="#Network-Formulations">Network Formulations</a><a id="Network-Formulations-1"></a><a class="docs-heading-anchor-permalink" href="#Network-Formulations" title="Permalink"></a></h1><h2 id="Type-Hierarchy"><a class="docs-heading-anchor" href="#Type-Hierarchy">Type Hierarchy</a><a id="Type-Hierarchy-1"></a><a class="docs-heading-anchor-permalink" href="#Type-Hierarchy" title="Permalink"></a></h2><p>We begin with the top of the hierarchy, where we can distinguish between the physics of gas flow models. There are currently five formulations supported in GasModels. Two full non convex formulations and three relaxations.</p><pre><code class="language-julia">AbstractWPModel &lt;: AbstractGasModel
AbstractDWPModel &lt;: AbstractGasModel
AbstractMISOCPModel &lt;: AbstractGasModel
AbstractLRDWPModel &lt;: AbstractGasModel
AbstractLRWPModel &lt;: AbstractGasModel</code></pre><h2 id="Gas-Models"><a class="docs-heading-anchor" href="#Gas-Models">Gas Models</a><a id="Gas-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Gas-Models" title="Permalink"></a></h2><p>Each of these forms can be used as the type parameter for a GasModel, i.e.:</p><pre><code class="language-julia">WPGasModel &lt;: AbstractWPForm
MIDWPGasModel &lt;: AbstractDWPModel
CRDWPGasModel &lt;: AbstractMISOCPModel
LRDWPGasModel &lt;: AbstractLRDWPModel
LRWPGasModel &lt;: AbstractLRWPModel</code></pre><p>For details on <code>AbstractGasModel</code>, see the section on <a href="#Gas-Model">Gas Model</a>.</p><h2 id="User-Defined-Abstractions"><a class="docs-heading-anchor" href="#User-Defined-Abstractions">User-Defined Abstractions</a><a id="User-Defined-Abstractions-1"></a><a class="docs-heading-anchor-permalink" href="#User-Defined-Abstractions" title="Permalink"></a></h2><p>The user-defined abstractions begin from a root abstract like the <code>AbstractGasModel</code> abstract type, i.e.</p><pre><code class="language-julia">AbstractMyFooModel &lt;: AbstractGasModel

StandardMyFooForm &lt;: AbstractFooModel
FooGasModel = AbstractGasModel{StandardFooForm}</code></pre><h2 id="Supported-Formulations"><a class="docs-heading-anchor" href="#Supported-Formulations">Supported Formulations</a><a id="Supported-Formulations-1"></a><a class="docs-heading-anchor-permalink" href="#Supported-Formulations" title="Permalink"></a></h2><p>All formulation names refer to how underlying physics of a gas network is modeled. For example, the <code>LRWP</code> model uses a linear representation of natural gas physics. If a model includes valves, then the resulting mathematical optimization problems will be mixed integer since valve controls are discrete.</p><table><tr><th style="text-align: right">Formulation</th><th style="text-align: right">Steady-State</th><th style="text-align: right">Transient</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right">WP</td><td style="text-align: right">Y</td><td style="text-align: right">Y</td><td style="text-align: right">Physics is modeled using nonlinear equations.</td></tr><tr><td style="text-align: right">DWP</td><td style="text-align: right">Y</td><td style="text-align: right">N</td><td style="text-align: right">Physics is modeled using nonlinear equations. Directionality of flow is modeled using discrete variables</td></tr><tr><td style="text-align: right">CRDWP</td><td style="text-align: right">Y</td><td style="text-align: right">N</td><td style="text-align: right">Physics is modeled using convex equations. Directionality of flow is modeled using discrete variables</td></tr><tr><td style="text-align: right">LRDWP</td><td style="text-align: right">Y</td><td style="text-align: right">N</td><td style="text-align: right">Physics is modeled using linear equations. Directionality of flow is modeled using discrete variables</td></tr><tr><td style="text-align: right">LRWP</td><td style="text-align: right">Y</td><td style="text-align: right">N</td><td style="text-align: right">Physics is modeled using linear equations.</td></tr></table></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../direction/">« Direction Model</a><a class="docs-footer-nextpage" href="../ss-specifications/">Problem Specifications »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 20 August 2020 16:28">Thursday 20 August 2020</span>. Using Julia version 1.5.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
