<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Developer · GasModels</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-367975-10"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-367975-10', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="GasModels logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">GasModels</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../quickguide/">Getting Started</a></li><li><a class="tocitem" href="../data-format/">Input Data Formats</a></li><li><a class="tocitem" href="../network-data/">Network Data Format</a></li><li><a class="tocitem" href="../result-data/">Result Data Format</a></li><li><a class="tocitem" href="../math-model/">Mathematical Model</a></li><li><a class="tocitem" href="../direction/">Direction Model</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../formulations/">Network Formulations</a></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Steady State Specifications</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../ss-specifications/">Problem Specifications</a></li><li><a class="tocitem" href="../objective/">Objective</a></li><li><a class="tocitem" href="../variables/">Variables</a></li><li><a class="tocitem" href="../constraints/">Constraints</a></li></ul></li><li><a class="tocitem" href="../transient-specifications/">Transient Specifications</a></li><li><a class="tocitem" href="../parser/">File IO</a></li></ul></li><li class="is-active"><a class="tocitem" href>Developer</a><ul class="internal"><li><a class="tocitem" href="#Variable,-constraint-and-parameter-naming-scheme"><span>Variable, constraint and parameter naming scheme</span></a></li><li><a class="tocitem" href="#Developing-steady-state-problems-and-formulations"><span>Developing steady-state problems and formulations</span></a></li><li><a class="tocitem" href="#Developing-transient-problems-and-formulations"><span>Developing transient problems and formulations</span></a></li></ul></li><li><a class="tocitem" href="../examples/">Examples</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Developer</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Developer</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/lanl-ansi/GasModels.jl/blob/master/docs/src/developer.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Developer-Documentation"><a class="docs-heading-anchor" href="#Developer-Documentation">Developer Documentation</a><a id="Developer-Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Developer-Documentation" title="Permalink"></a></h1><h2 id="Variable,-constraint-and-parameter-naming-scheme"><a class="docs-heading-anchor" href="#Variable,-constraint-and-parameter-naming-scheme">Variable, constraint and parameter naming scheme</a><a id="Variable,-constraint-and-parameter-naming-scheme-1"></a><a class="docs-heading-anchor-permalink" href="#Variable,-constraint-and-parameter-naming-scheme" title="Permalink"></a></h2><h3 id="Suffixes"><a class="docs-heading-anchor" href="#Suffixes">Suffixes</a><a id="Suffixes-1"></a><a class="docs-heading-anchor-permalink" href="#Suffixes" title="Permalink"></a></h3><ul><li><code>_ne</code>: used to denote a concept specific to network expansion problems</li><li><code>_ls</code>: used to denote a concept specific to implementations where production and consumption are variables.</li><li><code>_on_off</code>: used to denote a concept where there are either-or choices, such is valve operations or binary direction choices.</li></ul><h3 id="Pressure"><a class="docs-heading-anchor" href="#Pressure">Pressure</a><a id="Pressure-1"></a><a class="docs-heading-anchor-permalink" href="#Pressure" title="Permalink"></a></h3><ul><li><code>p</code>: pressure squared</li><li><code>pd_min</code>: minimum pressure squared difference (computed value)</li><li><code>pd_max</code>: maximum pressure squared difference (computed value)</li></ul><h3 id="Flow"><a class="docs-heading-anchor" href="#Flow">Flow</a><a id="Flow-1"></a><a class="docs-heading-anchor-permalink" href="#Flow" title="Permalink"></a></h3><ul><li><code>f</code>: mass flow</li><li><code>fl</code>: mass flow consumption</li><li><code>fg</code>: mass flow production</li></ul><h2 id="Developing-steady-state-problems-and-formulations"><a class="docs-heading-anchor" href="#Developing-steady-state-problems-and-formulations">Developing steady-state problems and formulations</a><a id="Developing-steady-state-problems-and-formulations-1"></a><a class="docs-heading-anchor-permalink" href="#Developing-steady-state-problems-and-formulations" title="Permalink"></a></h2><p>In the current version of <code>GasModels</code>, the supported variable space is pressure (<code>p</code>) and mass flow (<code>f</code>) for steady-state modeling. Long term there are plans to support problems specified in the variable space of density <span>$\rho$</span> and mass flux <span>$\phi$</span>.  Generally speaking, most steady-state models use/assume the single network formulation that is not discretized in time or space. Thus, most natural gas network models are read in and directly used by steady-state specifications.</p><p>A long term development plan is to largely unify the declaration of variables and constraints which are common to both steady-state and transient model (he only difference being single vs. multi-network representations).</p><h2 id="Developing-transient-problems-and-formulations"><a class="docs-heading-anchor" href="#Developing-transient-problems-and-formulations">Developing transient problems and formulations</a><a id="Developing-transient-problems-and-formulations-1"></a><a class="docs-heading-anchor-permalink" href="#Developing-transient-problems-and-formulations" title="Permalink"></a></h2><p>A basic version of the transient optimal gas flow problem is supported with the current version of <code>GasModels</code>. It uses the multi-network feature to formulate the problem. The entry point to create and prepare the transient data is the function <code>parse_files()</code> given below:</p><article class="docstring"><header><a class="docstring-binding" id="GasModels.parse_files" href="#GasModels.parse_files"><code>GasModels.parse_files</code></a> — <span class="docstring-category">Function</span></header><section><div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/GasModels.jl/blob/d28fb8945c54ed4302c22ba1ad9278f500739542/src/io/transient.jl#L32">source</a></section><section><div><p>Parses two files - a static file and a transient csv file and prepares the data object. The static file is the .m file and the transient file is a .csv file that contains the time-series data information. The function takes in the following keyword arguments: (i) <code>total_time</code> (defaults to 86400 seconds or 24 hours) - this is the total time for which transient optimization needs to be solved (ii) <code>time_step</code> (defaults to 3600 seconds or 1 hours) - this argument specifies the time discretization step (iii) <code>spatial_discretization</code> (defaults to 10000 m or 10 km) - this argument specifies the spatial discretization step (iv) <code>additional_time</code> (defaults to 21600 seconds or 6 hours) - this argument decides the time horizon that needs to be padded to the total time to in case the user wishes to perform a moving horizon transient optimization.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/GasModels.jl/blob/d28fb8945c54ed4302c22ba1ad9278f500739542/src/io/transient.jl#L44-L47">source</a></section></article><p>The function, in addition to taking as input the static matgas file and time-series csv files (the formats are discussed in <a href="../parser/#File-IO">File IO</a> section), can take additional keyword arguments that concern a transient formulation. They are: (1) <code>total_time</code> which is the total time duration of the transient formulation. It defaults to the value of <code>86400.0</code>. Note that when this is the case the .csv file should contain time series data for the full 24 hours or else trying to construct a transient formulation would result in an error. The other keyword arguments include (2) <code>time_step</code>, (3) <code>spatial_discretization</code>, and (4) <code>additional_time</code>. As mentioned in the <a href="../transient-specifications/#Transient-Problem-Specifications">Transient Problem Specifications</a> section the transient Optimal Gas Flow problem currently can work with only time-periodic time-series data. If the data is not time-periodic, then GasModels will try to fit a time-periodic spline to the data and then run the transient optimal gas flow problem. Notice that fitting a time-periodic spline for a non-time-periodic time series data would result in deviations from the given profiles and hence the argument <code>additional_time</code> can be used to pad the <code>total_time</code> with additional time to circumvent this issue. The <code>parse_files</code> function results in a multinetwork data model with the appropriate number of time discretizations that can then be used to formulate any transient optimization problem. The details of the transient formulation can be found in the section <a href="../transient-specifications/#Transient-Problem-Specifications">Transient Problem Specifications</a>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../parser/">« File IO</a><a class="docs-footer-nextpage" href="../examples/">Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Tuesday 29 April 2025 19:54">Tuesday 29 April 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
