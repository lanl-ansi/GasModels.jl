<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>File IO · GasModels</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-367975-10"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-367975-10', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="GasModels logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">GasModels</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../quickguide/">Getting Started</a></li><li><a class="tocitem" href="../data-format/">Input Data Formats</a></li><li><a class="tocitem" href="../network-data/">Network Data Format</a></li><li><a class="tocitem" href="../result-data/">Result Data Format</a></li><li><a class="tocitem" href="../math-model/">Mathematical Model</a></li><li><a class="tocitem" href="../direction/">Direction Model</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../formulations/">Network Formulations</a></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Steady State Specifications</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../ss-specifications/">Problem Specifications</a></li><li><a class="tocitem" href="../objective/">Objective</a></li><li><a class="tocitem" href="../variables/">Variables</a></li><li><a class="tocitem" href="../constraints/">Constraints</a></li></ul></li><li><a class="tocitem" href="../transient-specifications/">Transient Specifications</a></li><li class="is-active"><a class="tocitem" href>File IO</a><ul class="internal"><li><a class="tocitem" href="#General-Data-Formats"><span>General Data Formats</span></a></li><li><a class="tocitem" href="#Matgas-Data-Files"><span>Matgas Data Files</span></a></li><li><a class="tocitem" href="#Parsing-Transient-Data"><span>Parsing Transient Data</span></a></li></ul></li></ul></li><li><a class="tocitem" href="../developer/">Developer</a></li><li><a class="tocitem" href="../examples/">Examples</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Library</a></li><li class="is-active"><a href>File IO</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>File IO</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/lanl-ansi/GasModels.jl/blob/master/docs/src/parser.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="File-IO"><a class="docs-heading-anchor" href="#File-IO">File IO</a><a id="File-IO-1"></a><a class="docs-heading-anchor-permalink" href="#File-IO" title="Permalink"></a></h1><h2 id="General-Data-Formats"><a class="docs-heading-anchor" href="#General-Data-Formats">General Data Formats</a><a id="General-Data-Formats-1"></a><a class="docs-heading-anchor-permalink" href="#General-Data-Formats" title="Permalink"></a></h2><p>The json file format is a direct JSON serialization of GasModels internal data model. As such, the json file format is intended to be a temporary storage format. GasModels does not maintain backwards compatibility with serializations of earlier versions of the Gas Models internal data model.</p><article class="docstring"><header><a class="docstring-binding" id="GasModels.parse_file" href="#GasModels.parse_file"><code>GasModels.parse_file</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">parse_file(io)</code></pre><p>Parses the IOStream of a file into a GasModels data structure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/GasModels.jl/blob/7a0dc258db40cb6351e4e07d7be1494b3544c639/src/io/common.jl#L1-L5">source</a></section><section><div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/GasModels.jl/blob/7a0dc258db40cb6351e4e07d7be1494b3544c639/src/io/common.jl#L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GasModels.parse_json" href="#GasModels.parse_json"><code>GasModels.parse_json</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Grab the data from a json field</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/GasModels.jl/blob/7a0dc258db40cb6351e4e07d7be1494b3544c639/src/io/json.jl#L2">source</a></section><section><div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/GasModels.jl/blob/7a0dc258db40cb6351e4e07d7be1494b3544c639/src/io/json.jl#L12">source</a></section></article><h2 id="Matgas-Data-Files"><a class="docs-heading-anchor" href="#Matgas-Data-Files">Matgas Data Files</a><a id="Matgas-Data-Files-1"></a><a class="docs-heading-anchor-permalink" href="#Matgas-Data-Files" title="Permalink"></a></h2><p>The following method is the main methods for parsing Matgas data files:</p><article class="docstring"><header><a class="docstring-binding" id="GasModels.parse_matgas" href="#GasModels.parse_matgas"><code>GasModels.parse_matgas</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Parses the matgas data from either a filename or an IO object</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/GasModels.jl/blob/7a0dc258db40cb6351e4e07d7be1494b3544c639/src/io/matgas.jl#L1">source</a></section></article><p>We also provide the following (internal) helper methods:</p><article class="docstring"><header><a class="docstring-binding" id="GasModels._gasmodels_to_matgas_string-Tuple{Dict{String, Any}}" href="#GasModels._gasmodels_to_matgas_string-Tuple{Dict{String, Any}}"><code>GasModels._gasmodels_to_matgas_string</code></a> — <span class="docstring-category">Method</span></header><section><div><p>write to matgas</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/GasModels.jl/blob/7a0dc258db40cb6351e4e07d7be1494b3544c639/src/io/matgas.jl#L934">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GasModels._get_default" href="#GasModels._get_default"><code>GasModels._get_default</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Get a default value for dict entry</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/GasModels.jl/blob/7a0dc258db40cb6351e4e07d7be1494b3544c639/src/io/matgas.jl#L783">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GasModels._matgas_to_gasmodels-Tuple{Dict{String, Any}}" href="#GasModels._matgas_to_gasmodels-Tuple{Dict{String, Any}}"><code>GasModels._matgas_to_gasmodels</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Converts a matgas dict into a PowerModels dict</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/GasModels.jl/blob/7a0dc258db40cb6351e4e07d7be1494b3544c639/src/io/matgas.jl#L701">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GasModels._merge_generic_data!-Tuple{Dict{String, Any}}" href="#GasModels._merge_generic_data!-Tuple{Dict{String, Any}}"><code>GasModels._merge_generic_data!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>merges Matlab tables based on the table extension syntax</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/GasModels.jl/blob/7a0dc258db40cb6351e4e07d7be1494b3544c639/src/io/matgas.jl#L741">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GasModels.parse_m_file-Tuple{IO}" href="#GasModels.parse_m_file-Tuple{IO}"><code>GasModels.parse_m_file</code></a> — <span class="docstring-category">Method</span></header><section><div><p>parses matlab-formatted .m file</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/GasModels.jl/blob/7a0dc258db40cb6351e4e07d7be1494b3544c639/src/io/matgas.jl#L302">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GasModels.parse_m_file-Tuple{String}" href="#GasModels.parse_m_file-Tuple{String}"><code>GasModels.parse_m_file</code></a> — <span class="docstring-category">Method</span></header><section><div><p>parses matlab-formatted .m file</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/GasModels.jl/blob/7a0dc258db40cb6351e4e07d7be1494b3544c639/src/io/matgas.jl#L292">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GasModels.parse_m_string-Tuple{String}" href="#GasModels.parse_m_string-Tuple{String}"><code>GasModels.parse_m_string</code></a> — <span class="docstring-category">Method</span></header><section><div><p>parses matlab-format string</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/GasModels.jl/blob/7a0dc258db40cb6351e4e07d7be1494b3544c639/src/io/matgas.jl#L310">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GasModels.parse_matgas-Tuple{Union{IO, String}}" href="#GasModels.parse_matgas-Tuple{Union{IO, String}}"><code>GasModels.parse_matgas</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Parses the matgas data from either a filename or an IO object</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/GasModels.jl/blob/7a0dc258db40cb6351e4e07d7be1494b3544c639/src/io/matgas.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GasModels.write_matgas!-Tuple{Dict{String, Any}, String}" href="#GasModels.write_matgas!-Tuple{Dict{String, Any}, String}"><code>GasModels.write_matgas!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>writes data structure to matlab format</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lanl-ansi/GasModels.jl/blob/7a0dc258db40cb6351e4e07d7be1494b3544c639/src/io/matgas.jl#L1063">source</a></section></article><p>This format was designed to have a similar look a feel to the Matlab MatPower format (in the case of GasModels, we refer to it as the MatGas format), however, it standardizes around data requirements developed by the GasModels development team. It is largely stable. Additional fields for each component in the MatGas format can be incorporated using the Matlab extensions developed in InfrastructureModels.jl.</p><p>The top of the file contains global information about the network like its name, gas temperature, etc.</p><pre><code class="nohighlight hljs">function mgc = gaslib-40

%% required global data
mgc.gas_specific_gravity         = 0.6;
mgc.specific_heat_capacity_ratio = 1.4;  % unitless
mgc.temperature                  = 273.15;  % K
mgc.compressibility_factor       = 0.8;  % unitless
mgc.units                        = &#39;si&#39;;

%% optional global data (that was either provided or computed based on required global data)
mgc.gas_molar_mass               = 0.01857; % kg/mol
mgc.R                            = 8.314;  % J/(mol K)
mgc.base_length                  = 5000;  % m (non-dimensionalization value)
mgc.base_pressure                = 8101325;  % Pa (non-dimensionalization value)
mgc.base_flow                    = 604; (non-dimensionalization value)
mgc.is_per_unit                  = 0;
mgc.sound_speed                  = 312.8060</code></pre><p>Junction data is defined with the following tabular format</p><pre><code class="nohighlight hljs">%% junction data
% id p_min p_max p_nominal junction_type status pipeline_name edi_id lat lon
mgc.junction = [
...
]</code></pre><p>The reader is referred to <a href="../data-format/#Matgas-Format-(.m)">Matgas Format (.m)</a> for detailed description on each column in the above table.</p><p>Pipeline data is defined with the following tabular format</p><pre><code class="nohighlight hljs">%% pipe data
% id fr_junction to_junction diameter length friction_factor p_min p_max status
mgc.pipe = [
...
]</code></pre><p>The reader is referred to <a href="../data-format/#Matgas-Format-(.m)">Matgas Format (.m)</a> for detailed description on each column in the above table.</p><p>Compressor data is defined with the following tabular format</p><pre><code class="nohighlight hljs">%% compressor data
% id fr_junction to_junction c_ratio_min c_ratio_max power_max flow_min flow_max inlet_p_min inlet_p_max outlet_p_min outlet_p_max status operating_cost directionality
mgc.compressor = [
...</code></pre><p>The reader is referred to <a href="../data-format/#Matgas-Format-(.m)">Matgas Format (.m)</a> for detailed description on each column in the above table.</p><p>Receipt data is defined with the following tabular format</p><pre><code class="nohighlight hljs">%% receipt data
% id junction_id injection_min injection_max injection_nominal is_dispatchable status
mgc.receipt = [
...</code></pre><p>The reader is referred to <a href="../data-format/#Matgas-Format-(.m)">Matgas Format (.m)</a> for detailed description on each column in the above table.</p><p>Delivery data is defined with the following tabular format</p><pre><code class="nohighlight hljs">%% delivery data
% id junction_id withdrawal_min withdrawal_max withdrawal_nominal is_dispatchable status
mgc.delivery = [
...</code></pre><p>The reader is referred to <a href="../data-format/#Matgas-Format-(.m)">Matgas Format (.m)</a> for detailed description on each column in the above table.</p><h2 id="Parsing-Transient-Data"><a class="docs-heading-anchor" href="#Parsing-Transient-Data">Parsing Transient Data</a><a id="Parsing-Transient-Data-1"></a><a class="docs-heading-anchor-permalink" href="#Parsing-Transient-Data" title="Permalink"></a></h2><p>To run the transient formulations, apart from parsing the network file <a href="../data-format/#Matgas-Format-(.m)">Matgas Format (.m)</a>, a time-series <a href="../data-format/#Transient-Data-Format-(CSV)">Transient Data Format (CSV)</a> file has to be parsed. The following method provides a way to do so:</p><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>parse_files</code>. Check Documenter&#39;s build log for details.</p></div></div><p>The data dictionary returned by the above function is a multi-network data dictionary with spatial discretization performed on pipelines with length greater than <code>spatial_discretization</code> keyword argument.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../transient-specifications/">« Transient Specifications</a><a class="docs-footer-nextpage" href="../developer/">Developer »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Wednesday 31 January 2024 05:53">Wednesday 31 January 2024</span>. Using Julia version 1.10.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
